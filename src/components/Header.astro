---
import logoImage from "../../public/logo.png";
import { Image } from "astro:assets";

let loggedIn = false;

if (Astro.locals.sessionData) {
    loggedIn = true;
}
---

<header>
    <div class="grid">
        <a href="/">
            <div class="logo">
                <Image src={logoImage} alt="Logo" width="50" height="50" />
                <p>pugBot.tf</p>
            </div>
        </a>
        <div></div>
        <div class="user">
            { loggedIn ?
            <label>{Astro.locals.sessionData.steam.data.personaname}</label>
            <Image src={Astro.locals.sessionData.steam.data.avatarmedium} alt="Profile Picture" width="50" height="50" />
            :
            <a href="/register">Login</a>
            }
        </div>
    </div>
    <style>
        header {
            background: #fff1d7;
            color: #000000;
            position: relative;
            display: block;
            width: 100%;
            height: 64px;
            font-family:
                Inter,
                -apple-system,
                BlinkMacSystemFont,
                Segoe UI,
                Roboto,
                Oxygen-Sans,
                Ubuntu,
                Cantarell,
                Helvetica Neue,
                sans-serif,
                Apple Color Emoji,
                Segoe UI Emoji,
                Segoe UI Symbol;
            font-size: 30px;
            border-bottom: solid black;
            z-index: 1;
            flex: 0 0 64px;
        }
        .grid {
            display: grid;
            grid-template: 1fr / auto 1fr auto;
            height: 64px;
        }
        .logo {
            display: flex;
            padding-right: 16px;
            align-items: center;
            padding-inline-start: 16px;
            height: 64px;
        }
        .logo p {
            margin-inline-start: 6px;
        }
        .user {
            display: flex;
            align-items: center;
            text-align: right;
            justify-content: flex-end;
            /* padding-inline-end: 16px; */
            height: 64px;
            padding-left: 0px;
            background-color: cornsilk;
            border-left: 1px solid black;
        }
        .user select {
            background: #011627;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 0px;
            font-size: 16px;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            outline: none;
        }
        .user label {
            padding-left: 15px;
        }
        .user a {
            text-decoration: none;
            color: #000;
            padding: 15px;
        }
        a {
            text-decoration: none;
            color: #000;
        }
        .user img {
            padding: 15px;
        }
        option {
            display: none;
        }
    </style>
</header>
